\usepackage{stmaryrd} % rrbracket et llbracket
\RequirePackage{braket} % kets et bras, mecanique quantique

\def\ketbra#1#2{\dyad{#1}{#2}}
\def\Ketbra#1#2{\dyad{#1}{#2}}
\def\braket#1{\langle #1\rangle}
\def\bbraket#1#2#3{\left\langle #1 \vphantom{#2#3} \right| #2 \left| #3 \vphantom{#1#2} \right\rangle}

\RequirePackage{slashed}

\RequirePackage{amsmath}
\RequirePackage{amssymb}
%\RequirePackage{amsfonts} % loaded by amssymb
\RequirePackage{amsthm}
\RequirePackage{mathrsfs}

\AtEndPreamble{\RequirePackage{esint}\def\oiint{\varoiint}}

%\RequirePackage{psfrag}
%\RequirePackage{txfonts}
\RequirePackage{cancel} 

\RequirePackage{variations}

\RequirePackage{physics}
\DeclareDocumentCommand\Derivative{ s o m g g d() }
{ % Particular derivative
	% s: star for \flatfrac flat derivative
	% o: optional n for nth derivative
	% m: mandatory (x in df/dx)
	% g: optional (f in df/dx)
	% g: optional (y in d^2f/dxdy)
	% d: long-form d/dx(...)
	\IfBooleanTF{#1}
	{\let\fractype\flatfrac}
	{\let\fractype\frac}
	\IfNoValueTF{#4}
	{
		\IfNoValueTF{#6}
		{\fractype{\mathrm{D} \IfNoValueTF{#2}{}{^{#2}}}{\mathrm{D} #3\IfNoValueTF{#2}{}{^{#2}}}}
		{\fractype{\mathrm{D} \IfNoValueTF{#2}{}{^{#2}}}{\mathrm{D} #3\IfNoValueTF{#2}{}{^{#2}}} \argopen(#6\argclose)}
	}
	{
		\IfNoValueTF{#5}
		{\fractype{\mathrm{D} \IfNoValueTF{#2}{}{^{#2}} #3}{\mathrm{D} #4\IfNoValueTF{#2}{}{^{#2}}}}
		{\fractype{\mathrm{D}^2 #3}{\mathrm{D} #4 \mathrm{D} #5}}
	}
}
\DeclareDocumentCommand\Dv{}{\Derivative} % Shorthand for \derivative

\def\eval#1{\ensuremath{\left. #1 \right|}}
\newcommand{\evalp}[1]{\ensuremath{\left( #1 \right)}}

\let\origorder\order
\def\Order{\origorder}
\def\order#1{\ensuremath{o\!\left( #1 \right)}}

\usepackage{calculator}

\usepackage{modiagram}

\input ltstyle_module-mhchem.sty

\input ltstyle_module-chemfig.sty

\input ltstyle_module-particles.sty
\input ltstyle_module-feynman_graphs.sty
